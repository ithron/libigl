@PACKAGE_INIT@

include(${CMAKE_CURRENT_LIST_DIR}/libigl-export.cmake)

if (TARGET igl::core)
  if (NOT TARGET Eigen3::Eigen)
    find_package(Eigen3 QUIET)
    if (NOT Eigen3_FOUND)
      # try with PkgCOnfig
      find_package(PkgConfig REQUIRED)
      pkg_check_modules(Eigen3 QUIET IMPORTED_TARGET eigen3)
    endif()

    if (NOT Eigen3_FOUND)
      message(FATAL_ERROR "Could not find required dependency Eigen3")
      set(libigl_core_FOUND FALSE)
    else()
      set_target_properties(igl::core PROPERTIES INTERFACE_LINK_LIBRARIES PkgConfig::Eigen3)
      set(libigl_core_FOUND TRUE)
    endif()
  else()
    set_target_properties(igl::core PROPERTIES INTERFACE_LINK_LIBRARIES Eigen3::Eigen)
    set(libigl_core_FOUND TRUE)
  endif()

endif()

if (TARGET igl::common)
  if (NOT TARGET Eigen3::Eigen)
    find_package(Eigen3 QUIET)
    if (NOT Eigen3_FOUND)
      # try with PkgCOnfig
      find_package(PkgConfig REQUIRED)
      pkg_check_modules(Eigen3 QUIET IMPORTED_TARGET eigen3)
    endif()

    if (NOT Eigen3_FOUND)
      message(FATAL_ERROR "Could not find required dependency Eigen3")
      set(libigl_common_FOUND FALSE)
    else()
      set_target_properties(igl::common PROPERTIES INTERFACE_LINK_LIBRARIES PkgConfig::Eigen3)
      set(libigl_common_FOUND TRUE)
    endif()
  else()
    set_target_properties(igl::common PROPERTIES INTERFACE_LINK_LIBRARIES Eigen3::Eigen)
    set(libigl_common_FOUND TRUE)
  endif()

endif()

check_required_components(libigl)

